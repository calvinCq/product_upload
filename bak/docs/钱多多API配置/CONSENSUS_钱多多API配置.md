# 钱多多API配置 - 共识文档

## 明确的需求描述和验收标准

### 需求描述

将项目中的所有模型调用迁移到钱多多API，特别是确保DeepSeek-V3.1模型通过钱多多API调用。同时需要删除不必要的文件，统一配置管理，并在操作前备份项目。

### 验收标准

1. **API迁移完成**：
   - 所有文本生成功能使用钱多多API的DeepSeek-V3.1模型
   - 所有图片生成功能使用钱多多API
   - 代码中不再存在火山大模型API的调用逻辑

2. **文件清理**：
   - 移除不必要的测试文件和工具文件
   - 清理火山大模型相关的配置文件和文档

3. **配置统一**：
   - 所有API配置通过单一配置文件管理
   - 配置文件中包含完整的钱多多API配置
   - 默认配置使用DeepSeek-V3.1模型

4. **项目备份**：
   - 在修改前完成项目备份
   - 备份文件包含所有原始代码和配置

## 技术实现方案

### 1. 代码修改

- **配置管理器**：
  - 修改`ConfigManager`类，移除火山API配置支持
  - 确保钱多多API配置为必需项
  - 设置DeepSeek-V3.1为默认模型

- **文本生成器**：
  - 修改`VolcanoTextGenerator`类，强制使用钱多多API
  - 移除火山大模型相关代码
  - 确保使用DeepSeek-V3.1模型

- **图片生成器**：
  - 修改`VolcanoImageGenerator`类，强制使用钱多多API
  - 移除火山大模型相关代码

- **图片生成整合器**：
  - 修改`ImageGenerationIntegrator`类，移除火山API支持
  - 确保使用钱多多API进行图片生成

- **主程序**：
  - 修改`generate_educational_product.py`，确保使用钱多多API
  - 添加配置文件检查和默认配置生成

### 2. 文件清理

- 删除不必要的测试文件和工具文件
- 清理火山大模型相关的文档目录

### 3. 配置管理

- 更新`product_generator_config.json`，设置钱多多API和DeepSeek-V3.1模型的默认配置
- 移除配置文件中的火山API相关配置

### 4. 文档更新

- 创建新的钱多多API配置文档
- 记录迁移过程和配置方法

## 技术约束和集成方案

- **依赖关系**：确保所有模块正确依赖于`ConfigManager`获取API配置
- **环境变量**：保留对环境变量的支持，以便在生产环境中安全配置API密钥
- **兼容性**：确保修改后的代码与现有业务逻辑保持兼容

## 任务边界限制

- 仅修改与API调用相关的代码
- 不改变项目的整体架构和业务逻辑
- 不引入新的功能模块
- 仅清理明确不必要的文件，保留核心功能文件