# 微信小店图片上传和添加商品测试资料清单

## 一、API配置资料

1. **基础配置信息**
   - 已配置在 `wechat_api_config.json` 文件中
   - 包含 AppID: wx0b52c3ed18110fa2
   - 包含 AppSecret: 7a22f8e98105adab1effb56a01be51ea
   - 基础API地址: https://api.weixin.qq.com

2. **相关API路径配置**
   - 上传图片: `/channels/ec/img/upload`
   - 添加商品: `/channels/ec/product/add`
   - 获取access_token: `/cgi-bin/token`

## 二、图片上传所需资料

1. **本地图片文件**
   - 需要准备符合微信小店要求的图片文件
   - 图片格式: JPG、PNG等常见格式
   - 图片尺寸: 建议主图800x800像素，详情图750x任意高度
   - 文件路径: 完整的本地路径，如 `C:\Users\EDY\Documents\test_images\product1.jpg`

2. **测试图片准备建议**
   - 准备3-5张不同商品的图片作为测试素材
   - 确保图片内容清晰、合规，无违规内容
   - 图片大小建议不超过1MB

## 三、添加商品所需资料

### 1. 商品必填字段（必须完整提供）

| 字段名 | 类型 | 描述 | 示例 |
|-------|------|------|------|
| product_id | 字符串 | 商品ID | "TEST_PROD_001" |
| product_name | 字符串 | 商品名称 | "测试商品 - 电子产品" |
| category_id | 字符串 | 商品分类ID | "517050" |
| main_image | 字符串 | 商品主图URL或本地路径 | "https://example.com/main.jpg" |
| image_list | 数组 | 商品图片列表 | ["https://example.com/img1.jpg", "https://example.com/img2.jpg"] |
| price | 数字 | 商品价格（分） | 999 |
| original_price | 数字 | 商品原价（分） | 1999 |
| product_desc | 字符串 | 商品描述 | "这是一个测试商品的详细描述" |
| sku_list | 数组 | SKU列表 | 见下方SKU示例 |
| attributes | 对象或数组 | 商品属性 | {"brand": "测试品牌", "model": "型号001"} |
| product_status | 数字 | 商品状态（1-上架，0-下架） | 1 |

### 2. SKU列表结构示例

```json
[
  {
    "sku_id": "SKU_TEST_1",
    "price": 999,
    "original_price": 1999,
    "stock": 100,
    "sku_attrs": [
      {"attr_key": "颜色", "attr_value": "黑色"},
      {"attr_key": "尺寸", "attr_value": "M"}
    ]
  }
]
```

### 3. 测试商品数据准备

- 建议准备至少3个不同类目的测试商品
- 每个商品包含完整的必填字段
- 确保类目ID与 `wechat_shop_category_examples.json` 中定义的保持一致
- 商品描述应包含至少10个字符，避免被系统判定为无效

## 四、测试环境需求

1. **系统环境**
   - Python 3.6+
   - 所需依赖包已安装（requests, python-dotenv等）

2. **网络环境**
   - 稳定的互联网连接
   - 确保防火墙允许访问微信API服务器

3. **权限要求**
   - 微信公众号必须已开通微信小店功能
   - API调用权限已正确配置

## 五、测试执行流程

1. **图片上传测试**
   - 执行 `wechat_shop_api.py` 中的 `upload_image` 方法
   - 检查返回的图片URL是否有效

2. **商品上传测试**
   - 先上传商品图片获取URL
   - 准备完整的商品数据
   - 执行 `wechat_shop_api.py` 中的 `add_product` 或 `upload_product` 方法
   - 检查返回结果确认商品是否添加成功

## 六、测试结果验证

1. **图片上传验证**
   - 检查返回的JSON中是否包含 `image_url` 字段
   - 该URL应可通过浏览器访问

2. **商品上传验证**
   - 检查返回结果中 `errcode` 是否为0
   - 成功时应包含 `product_id` 字段
   - 可在微信小店后台查看上传的商品

## 注意事项

1. 测试前确保 `wechat_api_config.json` 中的AppID和AppSecret正确有效
2. 商品数据必须符合微信小店的规范要求
3. 图片内容应符合微信平台的内容规范
4. 建议先使用少量测试数据验证流程，再进行批量操作
5. API调用有频率限制，建议添加适当的请求间隔

---

**生成时间**: 2023-10-30
**适用系统**: 微信小店API上传工具